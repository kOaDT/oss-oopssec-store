---
import type { HTMLAttributes } from "astro/types";
import Socials from "./Socials.astro";

const currentYear = new Date().getFullYear();

type Props = {
  noMarginTop?: boolean;
} & HTMLAttributes<"footer">;

const { noMarginTop = false, class: className, ...attrs } = Astro.props;
---

<footer
  class:list={["app-layout", { "mt-auto": !noMarginTop }, className]}
  {...attrs}
>
  <div
    class:list={[
      "py-6 sm:py-4",
      "border-t border-border",
      "flex flex-col items-center justify-between sm:flex-row-reverse",
    ]}
  >
    <Socials />
    <div class="my-2 flex flex-col items-center whitespace-nowrap sm:flex-row">
      <span>{currentYear}</span>
      <span class="mx-2 hidden sm:inline">•</span>
      <span class="text-sm">
        Design forked from{" "}
        <a
          href="https://github.com/satnaing/astro-paper"
          target="_blank"
          rel="noopener noreferrer"
          class="hover:underline"
        >
          AstroPaper
        </a>
      </span>
    </div>
  </div>
  <div class="border-t border-border py-4 text-center text-xs text-accent">
    <p>
      Do not deploy OopsSec Store on a production server. This application is
      intentionally vulnerable and should only be used in isolated, local
      environments for educational purposes.
    </p>
    <p class="mt-2">
      Do not exploit vulnerabilities on systems you don't have explicit
      authorization to test. Unauthorized access to computer systems is illegal.
    </p>
    <p class="mt-3">
      <a
        href="https://github.com/kOaDT/oss-oopssec-store/issues"
        target="_blank"
        rel="noopener noreferrer"
        class="hover:underline"
      >
        Report an issue
      </a>
      <span class="mx-2">•</span>
      <a
        href="https://github.com/kOaDT/oss-oopssec-store/discussions"
        target="_blank"
        rel="noopener noreferrer"
        class="hover:underline"
      >
        Start a discussion
      </a>
    </p>
  </div>
</footer>
